import{_ as m,o as r,c as _,r as g,a as t,n as k,t as v,w as u,v as h,F as C,p,b as f,d as T,e as w,f as y,g as S,N as I}from"./Nav-QjrfbYkg.js";const N={props:["tasks"],emits:["taskEdit","taskStar","taskSwap","taskRemove"]},c=a=>(p("data-v-1484602e"),a=a(),f(),a),A={class:"item_flex"},$={class:"left_block"},E={class:"btn_flex"},J=["onClick"],L=["onClick"],O={class:"middle_block"},B={class:"star_block"},R=["onClick"],V=c(()=>t("i",{class:"fas fa-star"},null,-1)),D=[V],F=["onClick"],U=c(()=>t("i",{class:"fas fa-star"},null,-1)),K=[U],M=["onClick"],z=c(()=>t("i",{class:"fas fa-star"},null,-1)),j=[z],q=["onClick"],x=c(()=>t("i",{class:"fas fa-star"},null,-1)),G=[x],H=["onClick"],P=c(()=>t("i",{class:"fas fa-star"},null,-1)),Q=[P],W=["onUpdate:modelValue"],X={class:"right_block"},Y={class:"btn_flex"},Z=["onClick"],ss=["onClick"];function ts(a,s,n,b,d,l){return r(!0),_(C,null,g(n.tasks,(i,e)=>(r(),_("li",{key:i.id},[t("div",A,[t("div",$,[t("div",E,[t("button",{type:"button",class:"btn_up",onClick:o=>a.$emit("taskSwap",o,e,"up")},"往上",8,J),t("button",{type:"button",class:"btn_down",onClick:o=>a.$emit("taskSwap",o,e,"down")},"往下",8,L)])]),t("div",O,[t("div",B,[t("span",{class:k(["star",{"-on":i.star>=1}]),onClick:o=>a.$emit("taskStar",o,e,1)},D,10,R),t("span",{class:k(["star",{"-on":i.star>=2}]),onClick:o=>a.$emit("taskStar",o,e,2)},K,10,F),t("span",{class:k(["star",{"-on":i.star>=3}]),onClick:o=>a.$emit("taskStar",o,e,3)},j,10,M),t("span",{class:k(["star",{"-on":i.star>=4}]),onClick:o=>a.$emit("taskStar",o,e,4)},G,10,q),t("span",{class:k(["star",{"-on":i.star>=5}]),onClick:o=>a.$emit("taskStar",o,e,5)},Q,10,H)]),t("p",{class:k(["para",{"-none":i.editable}])},v(i.name),3),u(t("input",{type:"text",class:k(["task_name_update",{"-none":!i.editable}]),placeholder:"更新待辦事項…","onUpdate:modelValue":o=>i.name=o},null,10,W),[[h,i.name,void 0,{trim:!0}]])]),t("div",X,[t("div",Y,[t("button",{type:"button",class:"btn_update",onClick:o=>a.$emit("taskEdit",o,e)},"更新",8,Z),t("button",{type:"button",class:"btn_delete",onClick:o=>a.$emit("taskRemove",o,e)},"移除",8,ss)])])])]))),128)}const as=m(N,[["render",ts],["__scopeId","data-v-1484602e"]]),es={components:{TaskItem:as},data(){return{taskText:"",tasks:[]}},beforeMount(){let a=JSON.parse(localStorage.getItem("tasks"));a&&(this.tasks=a)},methods:{toggleShadow(){this.$refs.taskAddBlock.classList.toggle("-on")},taskAdd(){this.taskText!=""&&(this.tasks.unshift({id:Date.now(),name:this.taskText,editable:!1}),this.taskText="",localStorage.setItem("tasks",JSON.stringify(this.tasks)))},tasksClear(){if(confirm("確認清空?")){for(let s=0;s<this.$refs.taskList.children.length;s++)this.$refs.taskList.children[s].classList.add("fade_out");setTimeout(()=>{this.tasks=[],localStorage.clear()},1e3)}},taskEdit(a,s){this.tasks[s].editable?this.tasks[s].name==""?alert("請輸入資料"):(this.tasks[s].editable=!this.tasks[s].editable,localStorage.setItem("tasks",JSON.stringify(this.tasks))):this.tasks[s].editable=!this.tasks[s].editable},taskStar(a,s,n){this.tasks[s].star=n,localStorage.setItem("tasks",JSON.stringify(this.tasks))},taskSwap(a,s,n){n=="up"&&s!=0&&([this.tasks[s-1],this.tasks[s]]=[this.tasks[s],this.tasks[s-1]],localStorage.setItem("tasks",JSON.stringify(this.tasks))),n=="down"&&s!=this.tasks.length-1&&([this.tasks[s],this.tasks[s+1]]=[this.tasks[s+1],this.tasks[s]],localStorage.setItem("tasks",JSON.stringify(this.tasks)))},taskRemove(a,s){confirm("確認移除?")&&(a.target.closest("li").classList.add("fade_out"),setTimeout(()=>{this.tasks.splice(s,1),localStorage.setItem("tasks",JSON.stringify(this.tasks))},1e3))}}},os=a=>(p("data-v-08ebf297"),a=a(),f(),a),ls={class:"task_container"},is=os(()=>t("h1",{class:"title1"},"待辦事項",-1)),ns={class:"task_add_block",ref:"taskAddBlock"},ks={class:"task_list_parent"},ds={class:"task_list",ref:"taskList"};function cs(a,s,n,b,d,l){const i=T("TaskItem");return r(),_("article",ls,[t("button",{type:"button",class:"btn_empty",onClick:s[0]||(s[0]=(...e)=>l.tasksClear&&l.tasksClear(...e))},"清空"),is,t("div",ns,[u(t("input",{type:"text",class:"task_name",placeholder:"輸入待辦事項…","onUpdate:modelValue":[s[1]||(s[1]=e=>d.taskText=e),s[4]||(s[4]=e=>d.taskText=e)],onFocus:s[2]||(s[2]=(...e)=>l.toggleShadow&&l.toggleShadow(...e)),onBlur:s[3]||(s[3]=(...e)=>l.toggleShadow&&l.toggleShadow(...e)),onKeyup:s[5]||(s[5]=w((...e)=>l.taskAdd&&l.taskAdd(...e),["enter"]))},null,544),[[h,d.taskText,void 0,{trim:!0}],[h,d.taskText]]),t("button",{type:"button",class:"task_add",onClick:s[6]||(s[6]=(...e)=>l.taskAdd&&l.taskAdd(...e))},"新增")],512),t("div",ks,[t("ul",ds,[y(i,{tasks:d.tasks,onTaskEdit:l.taskEdit,onTaskStar:l.taskStar,onTaskSwap:l.taskSwap,onTaskRemove:l.taskRemove},null,8,["tasks","onTaskEdit","onTaskStar","onTaskSwap","onTaskRemove"])],512)])])}const rs=m(es,[["render",cs],["__scopeId","data-v-08ebf297"]]);S(I).mount("#header");S(rs).mount("#app");
